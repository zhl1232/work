@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* 浅色模式背景：极淡的冷白 */
    --background: 220 30% 98%;
    --foreground: 220 40% 10%;

    --card: 0 0% 100%;
    --card-foreground: 220 40% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 40% 10%;

    /* 主色：梦幻蓝 (基于 #a6c1ee 调整，加深以保证对比度) */
    --primary: 218 80% 60%;
    --primary-foreground: 0 0% 100%;

    /* 次要色：樱花粉 (基于 #fbc2eb) */
    --secondary: 317 60% 94%;
    --secondary-foreground: 317 80% 30%;

    /* 柔和背景 */
    --muted: 218 20% 96%;
    --muted-foreground: 218 10% 55%;

    /* 强调色：柔粉色 */
    --accent: 317 70% 85%;
    --accent-foreground: 317 80% 30%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 218 20% 90%;
    --input: 218 20% 90%;
    --ring: 218 80% 60%;

    --radius: 0.5rem;

    /* 图表配色：蓝粉渐变系 */
    --chart-1: 218 80% 60%;
    /* 蓝 */
    --chart-2: 317 70% 65%;
    /* 粉 */
    --chart-3: 260 60% 60%;
    /* 紫 (过渡色) */
    --chart-4: 190 70% 50%;
    /* 青 (冷色补充) */
    --chart-5: 340 70% 60%;
    /* 玫红 */
  }

  .dark {
    /* 1. 背景：深邃夜空 */
    --background: 220 30% 6%;
    --foreground: 218 20% 95%;

    /* 2. 卡片：深蓝灰 */
    --card: 220 25% 10%;
    --card-foreground: 218 20% 95%;

    --popover: 220 25% 10%;
    --popover-foreground: 218 20% 95%;

    /* 3. 主色：天空蓝 (使用原色 #a6c1ee 的高亮感) */
    --primary: 218 90% 79%;
    --primary-foreground: 220 40% 10%;

    /* 4. 次要色：深紫粉 */
    --secondary: 317 30% 15%;
    --secondary-foreground: 317 90% 87%;
    /* #fbc2eb 原色 */

    --muted: 218 20% 15%;
    --muted-foreground: 218 10% 65%;

    /* 强调色 */
    --accent: 317 40% 20%;
    --accent-foreground: 317 90% 87%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 218 20% 18%;
    --input: 218 20% 18%;
    --ring: 218 90% 79%;

    /* 图表颜色 */
    --chart-1: 218 90% 79%;
    --chart-2: 317 84% 87%;
    --chart-3: 260 80% 75%;
    --chart-4: 190 80% 70%;
    --chart-5: 340 80% 75%;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Custom Animations */
@keyframes float {
  0% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-10px);
  }

  100% {
    transform: translateY(0px);
  }
}

@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 5px hsl(var(--primary) / 0.5);
  }

  50% {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.8);
  }

  100% {
    box-shadow: 0 0 5px hsl(var(--primary) / 0.5);
  }
}

@keyframes twinkle {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.3;
    transform: scale(0.8);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

.animate-twinkle {
  animation: twinkle 4s ease-in-out infinite;
}

.animate-text-gradient {
  animation: text-gradient-flow 4s ease-in-out infinite;
}

/* Utility for glassmorphism */
.glass {
  @apply bg-background/60 backdrop-blur-md border border-white/10;
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

/* =============== 商店头像框样式 =============== */

/* --- 霓虹光环 --- */
@property --neon-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

@keyframes neon-rotate {
  to { --neon-angle: 360deg; }
}

@keyframes neon-glow-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 2px hsl(var(--primary) / 0.5)) drop-shadow(0 0 4px hsl(var(--secondary) / 0.3));
  }
  50% {
    filter: drop-shadow(0 0 4px hsl(var(--primary) / 0.8)) drop-shadow(0 0 8px hsl(var(--secondary) / 0.6)) drop-shadow(0 0 12px hsl(var(--chart-3) / 0.4));
  }
}

.avatar-frame-neon-halo {
  padding: 3px;
  border-radius: 9999px;
  background: conic-gradient(
    from var(--neon-angle),
    hsl(var(--primary)),
    hsl(var(--chart-3)),
    hsl(var(--secondary)),
    hsl(var(--chart-5)),
    hsl(var(--chart-3)),
    hsl(var(--primary))
  );
  animation:
    neon-rotate 3s linear infinite,
    neon-glow-pulse 2.5s ease-in-out infinite;
}

/* --- 像素边框 --- */
@keyframes pixel-color-cycle {
  0%   { border-color: hsl(var(--chart-1)); }
  25%  { border-color: hsl(var(--chart-2)); }
  50%  { border-color: hsl(var(--chart-3)); }
  75%  { border-color: hsl(var(--chart-4)); }
  100% { border-color: hsl(var(--chart-1)); }
}

@keyframes pixel-shadow-cycle {
  0% { box-shadow: 4px 4px 0 0 hsl(var(--chart-1)), -4px -4px 0 0 hsl(var(--chart-3)), 4px -4px 0 0 hsl(var(--chart-2)), -4px 4px 0 0 hsl(var(--chart-4)); }
  25% { box-shadow: 4px 4px 0 0 hsl(var(--chart-3)), -4px -4px 0 0 hsl(var(--chart-2)), 4px -4px 0 0 hsl(var(--chart-4)), -4px 4px 0 0 hsl(var(--chart-1)); }
  50% { box-shadow: 4px 4px 0 0 hsl(var(--chart-2)), -4px -4px 0 0 hsl(var(--chart-4)), 4px -4px 0 0 hsl(var(--chart-1)), -4px 4px 0 0 hsl(var(--chart-3)); }
  75% { box-shadow: 4px 4px 0 0 hsl(var(--chart-4)), -4px -4px 0 0 hsl(var(--chart-1)), 4px -4px 0 0 hsl(var(--chart-3)), -4px 4px 0 0 hsl(var(--chart-2)); }
  100% { box-shadow: 4px 4px 0 0 hsl(var(--chart-1)), -4px -4px 0 0 hsl(var(--chart-3)), 4px -4px 0 0 hsl(var(--chart-2)), -4px 4px 0 0 hsl(var(--chart-4)); }
}

.avatar-frame-pixel-border {
  padding: 4px;
  border-radius: 8px; /* Slightly more rounded */
  border: 3px dashed hsl(var(--chart-1));
  animation:
    pixel-color-cycle 1.5s steps(4) infinite,
    pixel-shadow-cycle 1.5s steps(4) infinite;
  image-rendering: auto;
}

/* --- 黄金王冠 --- */
@property --gold-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

@keyframes gold-rotate {
  to { --gold-angle: 360deg; }
}

@keyframes gold-pulse {
  0%, 100% { filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.4)); box-shadow: inset 0 0 6px rgba(255, 215, 0, 0.3); }
  50% { filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.8)); box-shadow: inset 0 0 12px rgba(255, 215, 0, 0.6); }
}

.avatar-frame-golden-crown {
  padding: 3px;
  border-radius: 9999px;
  background: conic-gradient(
    from var(--gold-angle),
    #b8860b,
    #ffd700,
    #fff8dc,
    #ffd700,
    #b8860b
  );
  animation: 
    gold-rotate 4s linear infinite,
    gold-pulse 2s ease-in-out infinite;
  position: relative;
}

/* 顶部星芒光点 */
.avatar-frame-golden-crown::after {
  content: '';
  position: absolute;
  top: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 14px;
  background: radial-gradient(circle, #ffffff 0%, #ffd700 40%, transparent 70%);
  border-radius: 50%;
  animation: gold-pulse 2s ease-in-out infinite reverse;
  z-index: 10;
}

/* --- 赛博故障 --- */
@keyframes cyber-glitch-anim {
  0% { clip-path: inset(10% 0 80% 0); transform: translate(-2px, 2px); }
  10% { clip-path: inset(40% 0 10% 0); transform: translate(2px, -2px); }
  20% { clip-path: inset(80% 0 5% 0); transform: translate(-2px, 0); }
  30% { clip-path: inset(15% 0 50% 0); transform: translate(2px, 2px); }
  40% { clip-path: inset(0 0 0 0); transform: translate(0); }
  100% { clip-path: inset(0 0 0 0); transform: translate(0); }
}

.avatar-frame-cyber-glitch {
  padding: 3px;
  border-radius: 9999px;
  background: linear-gradient(45deg, #00ffff, #ff00ff);
  position: relative;
  box-shadow: 0 0 4px rgba(0,255,255,0.6), 0 0 4px rgba(255,0,255,0.6);
}

.avatar-frame-cyber-glitch::before,
.avatar-frame-cyber-glitch::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 9999px;
  background: transparent;
  border: 3px solid transparent;
  pointer-events: none;
  z-index: 10;
}
.avatar-frame-cyber-glitch::before {
  border-color: #0ff;
  animation: cyber-glitch-anim 2s infinite linear alternate-reverse;
}
.avatar-frame-cyber-glitch::after {
  border-color: #f0f;
  animation: cyber-glitch-anim 3s infinite linear alternate;
}

/* --- 深海琉璃 --- */
@keyframes glass-sheen {
  0% { left: -100%; top: -100%; }
  20% { left: 200%; top: 200%; }
  100% { left: 200%; top: 200%; }
}

.avatar-frame-crystal-glass {
  padding: 3px;
  border-radius: 9999px;
  /* 透亮蓝白光感 */
  background: linear-gradient(135deg, rgba(200, 230, 255, 0.5) 0%, rgba(100, 200, 255, 0.2) 100%);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow: 0 2px 6px rgba(0, 150, 255, 0.2), inset 0 0 6px rgba(255, 255, 255, 0.5);
  position: relative;
  overflow: hidden; 
}

.avatar-frame-crystal-glass::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 200%;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.8), transparent);
  transform: rotate(45deg);
  animation: glass-sheen 4s ease-in-out infinite;
  pointer-events: none;
  z-index: 10;
}

/* =============== 名字颜色样式 =============== */

@keyframes text-gradient-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.name-color-neon {
  background-image: linear-gradient(90deg, #ff00ff, #00ffff, #ff00ff);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-gradient-flow 3s linear infinite;
  filter: drop-shadow(0 0 2px rgba(255, 0, 255, 0.5));
  font-weight: 700;
}

.name-color-cherry {
  background-image: linear-gradient(90deg, #ff9a9e, #fecfef, #ff9a9e);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-gradient-flow 3s linear infinite;
  font-weight: 700;
}

.name-color-abyss {
  /* 使用更显眼且深邃的荧光蓝紫渐变，代替原本过暗的黑色调 */
  background-image: linear-gradient(90deg, #0052D4, #4364F7, #6FB1FC, #4364F7, #0052D4);
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-gradient-flow 3s linear infinite;
  filter: drop-shadow(0 0 2px rgba(67, 100, 247, 0.5));
  font-weight: 700;
}

@keyframes gold-shimmer {
  0% {
    background-position: 0% 50%;
    filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.5));
  }
  50% {
    background-position: 100% 50%;
    /* 双层发光：外层金色辉光 + 内侧高亮白光 */
    filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.9)) drop-shadow(0 0 2px rgba(255, 255, 255, 0.8));
  }
  100% {
    background-position: 0% 50%;
    filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.5));
  }
}

.name-color-gold {
  /* 更华丽的尊贵 20 金币特供材质：多段高光过渡 */
  background-image: linear-gradient(
    -45deg, 
    #b38728 0%, 
    #fbf5b7 25%, 
    #bf953f 50%, 
    #fcf6ba 75%, 
    #b38728 100%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  /* 专属闪耀呼吸帧动画更平滑地展示其尊贵感 */
  animation: gold-shimmer 3s ease-in-out infinite;
  /* 相比普通的 700 字重，金闪加粗一点更能承载光泽 */
  font-weight: 800;
  letter-spacing: 0.5px;
}
